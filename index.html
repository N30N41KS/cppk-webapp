<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –†–∞–ø–æ—Ä—Ç</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        html { background-color: var(--tg-theme-bg-color, #ffffff); height: 100%; overflow: hidden; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            background-color: var(--tg-theme-bg-color, #ffffff); 
            color: var(--tg-theme-text-color, #000000); 
            margin: 0; padding: 15px; box-sizing: border-box; 
            height: 100%; overflow-y: auto; 
        }
        h2 { text-align: center; margin-bottom: 15px; font-size: 20px; }
        .form-group { position: relative; margin-bottom: 15px; }
        label { display: block; font-weight: 500; margin-bottom: 6px; color: var(--tg-theme-hint-color, #999999); font-size: 13px; }
        input, textarea { 
            width: 100%; box-sizing: border-box; padding: 12px; 
            border: none; border-radius: 10px; 
            background-color: var(--tg-theme-secondary-bg-color, #f4f4f5); 
            color: var(--tg-theme-text-color, #000000); font-size: 16px; outline: none; 
        }
        input:focus { box-shadow: 0 0 0 2px var(--tg-theme-button-color, #3390ec); }
        button { 
            width: 100%; padding: 14px; 
            background-color: var(--tg-theme-button-color, #3390ec); 
            color: var(--tg-theme-button-text-color, #ffffff); 
            border: none; border-radius: 10px; font-size: 17px; font-weight: 600; 
            cursor: pointer; transition: opacity 0.2s;
        }
        button:active { opacity: 0.7; }

        .custom-dropdown { 
            position: absolute; top: calc(100% + 5px); left: 0; right: 0; 
            background-color: var(--tg-theme-bg-color, #ffffff); 
            border-radius: 10px; max-height: 200px; overflow-y: auto; 
            z-index: 1000; display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
        }
        .custom-dropdown.active { display: block; }
        .dropdown-item { 
            padding: 10px 12px; display: flex; align-items: center; 
            cursor: pointer; border-bottom: 1px solid var(--tg-theme-secondary-bg-color, #eee); 
        }
        .icon-box { width: 24px; height: 24px; margin-right: 10px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .icon-box img { width: 100%; height: 100%; object-fit: contain; }
        .station-name { font-size: 15px; }
    </style>
</head>
<body>

    <h2>üö® –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ</h2>

    <div class="form-group">
        <label>–ì–¥–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ?</label>
        <input type="text" id="station-search" placeholder="–ü–æ–∏—Å–∫ —Å—Ç–∞–Ω—Ü–∏–∏..." autocomplete="off">
        <div id="custom-stations-list" class="custom-dropdown"></div>
    </div>

    <div class="form-group">
        <label>–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?</label>
        <textarea id="description" rows="4" placeholder="–ù–∞–ø—Ä: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Å–∫–∞–ª–∞—Ç–æ—Ä..."></textarea>
    </div>

    <button id="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // –¢–í–û–Ø –ì–ò–ì–ê–ù–¢–°–ö–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–•
        const data = {
            "1": ["–ë—É–ª—å–≤–∞—Ä –†–æ–∫–æ—Å—Å–æ–≤—Å–∫–æ–≥–æ", "–ß–µ—Ä–∫–∏–∑–æ–≤—Å–∫–∞—è", "–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω—Å–∫–∞—è –ø–ª–æ—â–∞–¥—å", "–°–æ–∫–æ–ª—å–Ω–∏–∫–∏", "–ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å—Å–∫–∞—è", "–ö–æ–º—Å–æ–º–æ–ª—å—Å–∫–∞—è", "–ö—Ä–∞—Å–Ω—ã–µ –í–æ—Ä–æ—Ç–∞", "–ß–∏—Å—Ç—ã–µ –ø—Ä—É–¥—ã", "–õ—É–±—è–Ω–∫–∞", "–û—Ö–æ—Ç–Ω—ã–π –†—è–¥", "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–º–µ–Ω–∏ –õ–µ–Ω–∏–Ω–∞", "–ö—Ä–æ–ø–æ—Ç–∫–∏–Ω—Å–∫–∞—è", "–ü–∞—Ä–∫ –∫—É–ª—å—Ç—É—Ä—ã", "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∞—è", "–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è", "–í–æ—Ä–æ–±—å—ë–≤—ã –≥–æ—Ä—ã", "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–ü—Ä–æ—Å–ø–µ–∫—Ç –í–µ—Ä–Ω–∞–¥—Å–∫–æ–≥–æ", "–Æ–≥–æ-–ó–∞–ø–∞–¥–Ω–∞—è", "–¢—Ä–æ–ø–∞—Ä—ë–≤–æ", "–†—É–º—è–Ω—Ü–µ–≤–æ", "–°–∞–ª–∞—Ä—å–µ–≤–æ", "–§–∏–ª–∞—Ç–æ–≤ –õ—É–≥", "–ü—Ä–æ–∫—à–∏–Ω–æ", "–û–ª—å—Ö–æ–≤–∞—è", "–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å–∫–∞—è", "–ü–æ—Ç–∞–ø–æ–≤–æ"],
            "2": ["–•–æ–≤—Ä–∏–Ω–æ", "–ë–µ–ª–æ–º–æ—Ä—Å–∫–∞—è", "–†–µ—á–Ω–æ–π –≤–æ–∫–∑–∞–ª", "–í–æ–¥–Ω—ã–π —Å—Ç–∞–¥–∏–æ–Ω", "–í–æ–π–∫–æ–≤—Å–∫–∞—è", "–°–æ–∫–æ–ª", "–ê—ç—Ä–æ–ø–æ—Ä—Ç", "–î–∏–Ω–∞–º–æ", "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∞—è", "–ú–∞—è–∫–æ–≤—Å–∫–∞—è", "–¢–≤–µ—Ä—Å–∫–∞—è", "–¢–µ–∞—Ç—Ä–∞–ª—å–Ω–∞—è", "–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫–∞—è", "–ü–∞–≤–µ–ª–µ—Ü–∫–∞—è", "–ê–≤—Ç–æ–∑–∞–≤–æ–¥—Å–∫–∞—è", "–¢–µ—Ö–Ω–æ–ø–∞—Ä–∫", "–ö–æ–ª–æ–º–µ–Ω—Å–∫–∞—è", "–ö–∞—à–∏—Ä—Å–∫–∞—è", "–ö–∞–Ω—Ç–µ–º–∏—Ä–æ–≤—Å–∫–∞—è", "–¶–∞—Ä–∏—Ü—ã–Ω–æ", "–û—Ä–µ—Ö–æ–≤–æ", "–î–æ–º–æ–¥–µ–¥–æ–≤—Å–∫–∞—è", "–ö—Ä–∞—Å–Ω–æ–≥–≤–∞—Ä–¥–µ–π—Å–∫–∞—è", "–ê–ª–º–∞-–ê—Ç–∏–Ω—Å–∫–∞—è"],
            "3": ["–ü—è—Ç–Ω–∏—Ü–∫–æ–µ —à–æ—Å—Å–µ", "–ú–∏—Ç–∏–Ω–æ", "–í–æ–ª–æ–∫–æ–ª–∞–º—Å–∫–∞—è", "–ú—è–∫–∏–Ω–∏–Ω–æ", "–°—Ç—Ä–æ–≥–∏–Ω–æ", "–ö—Ä—ã–ª–∞—Ç—Å–∫–æ–µ", "–ú–æ–ª–æ–¥—ë–∂–Ω–∞—è", "–ö—É–Ω—Ü–µ–≤—Å–∫–∞—è", "–°–ª–∞–≤—è–Ω—Å–∫–∏–π –±—É–ª—å–≤–∞—Ä", "–ü–∞—Ä–∫ –ü–æ–±–µ–¥—ã", "–ö–∏–µ–≤—Å–∫–∞—è", "–°–º–æ–ª–µ–Ω—Å–∫–∞—è", "–ê—Ä–±–∞—Ç—Å–∫–∞—è", "–ü–ª–æ—â–∞–¥—å –†–µ–≤–æ–ª—é—Ü–∏–∏", "–ö—É—Ä—Å–∫–∞—è", "–ë–∞—É–º–∞–Ω—Å–∫–∞—è", "–≠–ª–µ–∫—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∞—è", "–°–µ–º—ë–Ω–æ–≤—Å–∫–∞—è", "–ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∞—è", "–ò–∑–º–∞–π–ª–æ–≤—Å–∫–∞—è", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∞—è", "–©—ë–ª–∫–æ–≤—Å–∫–∞—è"],
            "4": ["–ü–∏–æ–Ω–µ—Ä—Å–∫–∞—è", "–§–∏–ª—ë–≤—Å–∫–∏–π –ø–∞—Ä–∫", "–ë–∞–≥—Ä–∞—Ç–∏–æ–Ω–æ–≤—Å–∫–∞—è", "–§–∏–ª–∏", "–ö—É—Ç—É–∑–æ–≤—Å–∫–∞—è", "–°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∞—è", "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤—Å–∫–∏–π —Å–∞–¥", "–í—ã—Å—Ç–∞–≤–æ—á–Ω–∞—è", "–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è"],
            "5": ["–î–æ–±—Ä—ã–Ω–∏–Ω—Å–∫–∞—è", "–¢–∞–≥–∞–Ω—Å–∫–∞—è", "–ü—Ä–æ—Å–ø–µ–∫—Ç –ú–∏—Ä–∞", "–ù–æ–≤–æ—Å–ª–æ–±–æ–¥—Å–∫–∞—è", "–ö—Ä–∞—Å–Ω–æ–ø—Ä–µ—Å–Ω–µ–Ω—Å–∫–∞—è"],
            "6": ["–ú–µ–¥–≤–µ–¥–∫–æ–≤–æ", "–ë–∞–±—É—à–∫–∏–Ω—Å–∫–∞—è", "–°–≤–∏–±–ª–æ–≤–æ", "–ë–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–¥", "–í–î–ù–•", "–ê–ª–µ–∫—Å–µ–µ–≤—Å–∫–∞—è", "–†–∏–∂—Å–∫–∞—è", "–°—É—Ö–∞—Ä–µ–≤—Å–∫–∞—è", "–¢—É—Ä–≥–µ–Ω–µ–≤—Å–∫–∞—è", "–ö–∏—Ç–∞–π-–≥–æ—Ä–æ–¥", "–¢—Ä–µ—Ç—å—è–∫–æ–≤—Å–∫–∞—è", "–û–∫—Ç—è–±—Ä—å—Å–∫–∞—è", "–®–∞–±–æ–ª–æ–≤—Å–∫–∞—è", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è", "–ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è", "–ù–æ–≤—ã–µ –ß–µ—Ä—ë–º—É—à–∫–∏", "–ö–∞–ª—É–∂—Å–∫–∞—è", "–ë–µ–ª—è–µ–≤–æ", "–ö–æ–Ω—å–∫–æ–≤–æ", "–¢—ë–ø–ª—ã–π –°—Ç–∞–Ω", "–Ø—Å–µ–Ω–µ–≤–æ", "–ù–æ–≤–æ—è—Å–µ–Ω–µ–≤—Å–∫–∞—è"],
            "7": ["–ü–ª–∞–Ω–µ—Ä–Ω–∞—è", "–°—Ö–æ–¥–Ω–µ–Ω—Å–∫–∞—è", "–¢—É—à–∏–Ω—Å–∫–∞—è", "–°–ø–∞—Ä—Ç–∞–∫", "–©—É–∫–∏–Ω—Å–∫–∞—è", "–û–∫—Ç—è–±—Ä—å—Å–∫–æ–µ –ü–æ–ª–µ", "–ü–æ–ª–µ–∂–∞–µ–≤—Å–∫–∞—è", "–ë–µ–≥–æ–≤–∞—è", "–£–ª–∏—Ü–∞ 1905 –≥–æ–¥–∞", "–ë–∞—Ä—Ä–∏–∫–∞–¥–Ω–∞—è", "–ü—É—à–∫–∏–Ω—Å–∫–∞—è", "–ö—É–∑–Ω–µ—Ü–∫–∏–π –ú–æ—Å—Ç", "–ü—Ä–æ–ª–µ—Ç–∞—Ä—Å–∫–∞—è", "–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–¢–µ–∫—Å—Ç–∏–ª—å—â–∏–∫–∏", "–ö—É–∑—å–º–∏–Ω–∫–∏", "–†—è–∑–∞–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–í—ã—Ö–∏–Ω–æ", "–õ–µ—Ä–º–æ–Ω—Ç–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–ñ—É–ª–µ–±–∏–Ω–æ", "–ö–æ—Ç–µ–ª—å–Ω–∏–∫–∏"],
            "8": ["–ù–æ–≤–æ–∫–æ—Å–∏–Ω–æ", "–ù–æ–≤–æ–≥–∏—Ä–µ–µ–≤–æ", "–ü–µ—Ä–æ–≤–æ", "–®–æ—Å—Å–µ –≠–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤", "–ê–≤–∏–∞–º–æ—Ç–æ—Ä–Ω–∞—è", "–ü–ª–æ—â–∞–¥—å –ò–ª—å–∏—á–∞", "–ú–∞—Ä–∫—Å–∏—Å—Ç—Å–∫–∞—è"],
            "8–ê": ["–ê—ç—Ä–æ–ø–æ—Ä—Ç –í–Ω—É–∫–æ–≤–æ", "–ü—ã—Ö—Ç–∏–Ω–æ", "–†–∞—Å—Å–∫–∞–∑–æ–≤–∫–∞", "–ù–æ–≤–æ–ø–µ—Ä–µ–¥–µ–ª–∫–∏–Ω–æ", "–ë–æ—Ä–æ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ", "–°–æ–ª–Ω—Ü–µ–≤–æ", "–ì–æ–≤–æ—Ä–æ–≤–æ", "–û–∑—ë—Ä–Ω–∞—è", "–ú–∏—á—É—Ä–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–õ–æ–º–æ–Ω–æ—Å–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–†–∞–º–µ–Ω–∫–∏", "–ú–∏–Ω—Å–∫–∞—è", "–î–µ–ª–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä"],
            "9": ["–ë–∏–±–∏—Ä–µ–≤–æ", "–û—Ç—Ä–∞–¥–Ω–æ–µ", "–í–ª–∞–¥—ã–∫–∏–Ω–æ", "–ü–µ—Ç—Ä–æ–≤—Å–∫–æ-–†–∞–∑—É–º–æ–≤—Å–∫–∞—è", "–¢–∏–º–∏—Ä—è–∑–µ–≤—Å–∫–∞—è", "–î–º–∏—Ç—Ä–æ–≤—Å–∫–∞—è", "–°–∞–≤—ë–ª–æ–≤—Å–∫–∞—è", "–ú–µ–Ω–¥–µ–ª–µ–µ–≤—Å–∫–∞—è", "–¶–≤–µ—Ç–Ω–æ–π –±—É–ª—å–≤–∞—Ä", "–ß–µ—Ö–æ–≤—Å–∫–∞—è", "–ë–æ—Ä–æ–≤–∏—Ü–∫–∞—è", "–ü–æ–ª—è–Ω–∫–∞", "–°–µ—Ä–ø—É—Ö–æ–≤—Å–∫–∞—è", "–¢—É–ª—å—Å–∫–∞—è", "–ù–∞–≥–∞—Ç–∏–Ω—Å–∫–∞—è", "–ù–∞–≥–æ—Ä–Ω–∞—è", "–ù–∞—Ö–∏–º–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å—Å–∫–∞—è", "–ß–µ—Ä—Ç–∞–Ω–æ–≤—Å–∫–∞—è", "–Æ–∂–Ω–∞—è", "–ü—Ä–∞–∂—Å–∫–∞—è", "–£–ª–∏—Ü–∞ –ê–∫–∞–¥–µ–º–∏–∫–∞ –Ø–Ω–≥–µ–ª—è", "–ê–Ω–Ω–∏–Ω–æ", "–ë—É–ª—å–≤–∞—Ä –î–º–∏—Ç—Ä–∏—è –î–æ–Ω—Å–∫–æ–≥–æ"],
            "10": ["–§–∏–∑—Ç–µ—Ö", "–õ–∏–∞–Ω–æ–∑–æ–≤–æ", "–Ø—Ö—Ä–æ–º—Å–∫–∞—è", "–°–µ–ª–∏–≥–µ—Ä—Å–∫–∞—è", "–í–µ—Ä—Ö–Ω–∏–µ –õ–∏—Ö–æ–±–æ—Ä—ã", "–û–∫—Ä—É–∂–Ω–∞—è", "–§–æ–Ω–≤–∏–∑–∏–Ω—Å–∫–∞—è", "–ë—É—Ç—ã—Ä—Å–∫–∞—è", "–ú–∞—Ä—å–∏–Ω–∞ –†–æ—â–∞", "–î–æ—Å—Ç–æ–µ–≤—Å–∫–∞—è", "–¢—Ä—É–±–Ω–∞—è", "–°—Ä–µ—Ç–µ–Ω—Å–∫–∏–π –±—É–ª—å–≤–∞—Ä", "–ß–∫–∞–ª–æ–≤—Å–∫–∞—è", "–†–∏–º—Å–∫–∞—è", "–ö—Ä–µ—Å—Ç—å—è–Ω—Å–∫–∞—è –ó–∞—Å—Ç–∞–≤–∞", "–î—É–±—Ä–æ–≤–∫–∞", "–ö–æ–∂—É—Ö–æ–≤—Å–∫–∞—è", "–ü–µ—á–∞—Ç–Ω–∏–∫–∏", "–í–æ–ª–∂—Å–∫–∞—è", "–õ—é–±–ª–∏–Ω–æ", "–ë—Ä–∞—Ç–∏—Å–ª–∞–≤—Å–∫–∞—è", "–ú–∞—Ä—å–∏–Ω–æ", "–ë–æ—Ä–∏—Å–æ–≤–æ", "–®–∏–ø–∏–ª–æ–≤—Å–∫–∞—è", "–ó—è–±–ª–∏–∫–æ–≤–æ"],
            "11": ["–¢–µ—Ä–µ—Ö–æ–≤–æ", "–ú–Ω—ë–≤–Ω–∏–∫–∏", "–ù–∞—Ä–æ–¥–Ω–æ–µ –û–ø–æ–ª—á–µ–Ω–∏–µ", "–¶–°–ö–ê", "–ü–µ—Ç—Ä–æ–≤—Å–∫–∏–π –ø–∞—Ä–∫", "–°–∞–≤—ë–ª–æ–≤—Å–∫–∞—è", "–õ–µ—Ñ–æ—Ä—Ç–æ–≤–æ", "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è", "–¢–µ–∫—Å—Ç–∏–ª—å—â–∏–∫–∏", "–ü–µ—á–∞—Ç–Ω–∏–∫–∏", "–ù–∞–≥–∞—Ç–∏–Ω—Å–∫–∏–π –ó–∞—Ç–æ–Ω", "–ö–ª–µ–Ω–æ–≤—ã–π –±—É–ª—å–≤–∞—Ä", "–ö–∞—à–∏—Ä—Å–∫–∞—è", "–í–∞—Ä—à–∞–≤—Å–∫–∞—è", "–ö–∞—Ö–æ–≤—Å–∫–∞—è"],
            "12": ["–ë–∏—Ç—Ü–µ–≤—Å–∫–∏–π –ø–∞—Ä–∫", "–õ–µ—Å–æ–ø–∞—Ä–∫–æ–≤–∞—è", "–£–ª–∏—Ü–∞ –°—Ç–∞—Ä–æ–∫–∞—á–∞–ª–æ–≤—Å–∫–∞—è", "–ë—É–ª—å–≤–∞—Ä –ê–¥–º–∏—Ä–∞–ª–∞ –£—à–∞–∫–æ–≤–∞", "–£–ª–∏—Ü–∞ –°–∫–æ–±–µ–ª–µ–≤—Å–∫–∞—è", "–£–ª–∏—Ü–∞ –ì–æ—Ä—á–∞–∫–æ–≤–∞", "–ë—É–Ω–∏–Ω—Å–∫–∞—è –∞–ª–ª–µ—è"],
            "14": ["–ë–µ–ª–æ–∫–∞–º–µ–Ω–Ω–∞—è", "–õ–æ–∫–æ–º–æ—Ç–∏–≤", "–ò–∑–º–∞–π–ª–æ–≤–æ", "–°–æ–∫–æ–ª–∏–Ω–∞—è –ì–æ—Ä–∞", "–ê–Ω–¥—Ä–æ–Ω–æ–≤–∫–∞", "–ù–æ–≤–æ—Ö–æ—Ö–ª–æ–≤—Å–∫–∞—è", "–£–≥—Ä–µ—à—Å–∫–∞—è", "–ó–ò–õ", "–í–µ—Ä—Ö–Ω–∏–µ –ö–æ—Ç–ª—ã", "–ö—Ä—ã–º—Å–∫–∞—è", "–ü–ª–æ—â–∞–¥—å –ì–∞–≥–∞—Ä–∏–Ω–∞", "–•–æ—Ä–æ—à—ë–≤–æ", "–ó–æ—Ä–≥–µ", "–ü–∞–Ω—Ñ–∏–ª–æ–≤—Å–∫–∞—è", "–°—Ç—Ä–µ—à–Ω–µ–≤–æ", "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è", "–ö–æ–ø—Ç–µ–≤–æ", "–õ–∏—Ö–æ–±–æ—Ä—ã"],
            "15": ["–°—Ç–∞—Ö–∞–Ω–æ–≤—Å–∫–∞—è", "–û–∫—Å–∫–∞—è", "–Æ–≥–æ-–í–æ—Å—Ç–æ—á–Ω–∞—è", "–ö–æ—Å–∏–Ω–æ", "–£–ª–∏—Ü–∞ –î–º–∏—Ç—Ä–∏–µ–≤—Å–∫–æ–≥–æ", "–õ—É—Ö–º–∞–Ω–æ–≤—Å–∫–∞—è", "–ù–µ–∫—Ä–∞—Å–æ–≤–∫–∞"],
            "16": ["–í–∞–≤–∏–ª–æ–≤—Å–∫–∞—è", "–ù–æ–≤–∞—Ç–æ—Ä—Å–∫–∞—è", "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –î—Ä—É–∂–±—ã –ù–∞—Ä–æ–¥–æ–≤", "–ì–µ–Ω–µ—Ä–∞–ª–∞ –¢—é–ª–µ–Ω–µ–≤–∞", "–¢—é—Ç—á–µ–≤—Å–∫–∞—è", "–ö–æ—Ä–Ω–∏–ª–æ–≤—Å–∫–∞—è", "–ë–∞—á—É—Ä–∏–Ω—Å–∫–∞—è"],
            "17": ["–ù–∞—Ä–æ–¥–Ω–æ–µ –û–ø–æ–ª—á–µ–Ω–∏–µ"],
            "D1": ["–û–¥–∏–Ω—Ü–æ–≤–æ", "–ë–∞–∫–æ–≤–∫–∞", "–°–∫–æ–ª–∫–æ–≤–æ", "–ù–µ–º—á–∏–Ω–æ–≤–∫–∞", "–°–µ—Ç—É–Ω—å", "–†–∞–±–æ—á–∏–π –ü–æ—Å—ë–ª–æ–∫", "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π –≤–æ–∫–∑–∞–ª", "–°–∞–≤—ë–ª–æ–≤—Å–∫–∏–π –≤–æ–∫–∑–∞–ª", "–î–æ–ª–≥–æ–ø—Ä—É–¥–Ω–∞—è", "–õ–æ–±–Ω—è"],
            "D2": ["–ù–∞—Ö–∞–±–∏–Ω–æ", "–ê–Ω–∏–∫–µ–µ–≤–∫–∞", "–û–ø–∞–ª–∏—Ö–∞", "–ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫–∞—è", "–ü–∞–≤—à–∏–Ω–æ", "–ü–µ–Ω—è–≥–∏–Ω–æ", "–¢—Ä–∏–∫–æ—Ç–∞–∂–Ω–∞—è", "–ö—Ä–∞—Å–Ω—ã–π –ë–∞–ª—Ç–∏–µ—Ü", "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∞—è", "–ü–ª–æ—â–∞–¥—å –¢—Ä—ë—Ö –í–æ–∫–∑–∞–ª–æ–≤", "–ö—É—Ä—Å–∫–∏–π –≤–æ–∫–∑–∞–ª", "–ú–æ—Å–∫–≤–∞-–¢–æ–≤–∞—Ä–Ω–∞—è", "–ö–∞–ª–∏—Ç–Ω–∏–∫–∏", "–ü–µ—Ä–µ—Ä–≤–∞", "–ö—É—Ä—å—è–Ω–æ–≤–æ", "–ú–æ—Å–∫–≤–æ—Ä–µ—á—å–µ", "–ü–æ–∫—Ä–æ–≤—Å–∫–æ–µ", "–ö—Ä–∞—Å–Ω—ã–π –°—Ç—Ä–æ–∏—Ç–µ–ª—å", "–ë–∏—Ç—Ü–∞", "–ë—É—Ç–æ–≤–æ", "–©–µ—Ä–±–∏–Ω–∫–∞", "–û—Å—Ç–∞—Ñ—å–µ–≤–æ", "–°–∏–ª–∏–∫–∞—Ç–Ω–∞—è", "–ü–æ–¥–æ–ª—å—Å–∫"],
            "D3": ["–§–∏—Ä—Å–∞–Ω–æ–≤—Å–∫–∞—è", "–°—Ö–æ–¥–Ω—è", "–ü–æ–¥—Ä–µ–∑–∫–æ–≤–æ", "–ù–æ–≤–æ–ø–æ–¥—Ä–µ–∑–∫–æ–≤–æ", "–ú–æ–ª–∂–∞–Ω–∏–Ω–æ–≤–æ", "–•–∏–º–∫–∏", "–õ–µ–≤–æ–±–µ—Ä–µ–∂–Ω–∞—è", "–ì—Ä–∞—á—ë–≤—Å–∫–∞—è", "–ú–æ—Å—Å–µ–ª—å–º–∞—à", "–û—Å—Ç–∞–Ω–∫–∏–Ω–æ", "–ú–∏—Ç—å–∫–æ–≤–æ", "–°–æ—Ä—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è", "–ü–ª—é—â–µ–≤–æ", "–í–µ—à–Ω—è–∫–∏", "–£—Ö—Ç–æ–º—Å–∫–∞—è", "–ü–∞–Ω–∫–∏", "–¢–æ–º–∏–ª–∏–Ω–æ", "–ö—Ä–∞—Å–∫–æ–≤–æ", "–ú–∞–ª–∞—Ö–æ–≤–∫–∞", "–£–¥–µ–ª—å–Ω–∞—è", "–ë—ã–∫–æ–≤–æ", "–ò–ª—å–∏–Ω—Å–∫–∞—è", "–û—Ç–¥—ã—Ö", "–ö—Ä–∞—Ç–æ–≤–æ", "–ï—Å–µ–Ω–∏–Ω—Å–∫–∞—è", "–§–∞–±—Ä–∏—á–Ω–∞—è", "–†–∞–º–µ–Ω—Å–∫–æ–µ", "–ò–ø–ø–æ–¥—Ä–æ–º"],
            "D4": ["–ü–æ–±–µ–¥–∞", "–ö—Ä—ë–∫—à–∏–Ω–æ", "–°–∞–Ω–∏–Ω–æ", "–ö–æ–∫–æ—à–∫–∏–Ω–æ", "–¢–æ–ª—Å—Ç–æ–ø–∞–ª—å—Ü–µ–≤–æ", "–õ–µ—Å–Ω–æ–π –ì–æ—Ä–æ–¥–æ–∫", "–ú–∏—á—É—Ä–∏–Ω–µ—Ü", "–ü—ã—Ö—Ç–∏–Ω–æ", "–°–æ–ª–Ω–µ—á–Ω–∞—è", "–ú–µ—â–µ—Ä—Å–∫–∞—è", "–û—á—ë—Ä—Å–∫–∞—è", "–ú–∞—Ç–≤–µ–µ–≤—Å–∫–æ–µ", "–ü–æ–∫–ª–æ–Ω–Ω–∞—è", "–°–µ—Ä–ø –∏ –ú–æ–ª–æ—Ç", "–ß—É—Ö–ª–∏–Ω–∫–∞", "–ö—É—Å–∫–æ–≤–æ", "–ù–∏–∫–æ–ª—å—Å–∫–æ–µ", "–°–∞–ª—Ç—ã–∫–æ–≤—Å–∫–∞—è", "–ö—É—á–∏–Ω–æ", "–û–ª—å–≥–∏–Ω–æ", "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è"]
        };

        const stations = [];
        for (const [line, list] of Object.entries(data)) {
            list.forEach(name => {
                stations.push({
                    name: `${name} (${line.startsWith('D') ? '' : '–õ–∏–Ω–∏—è '}${line})`,
                    icon: `img/${line}.svg`
                });
            });
        }

        const searchInput = document.getElementById('station-search');
        const dropdown = document.getElementById('custom-stations-list');
        let selected = "";

        function render(val) {
            dropdown.innerHTML = "";
            const filtered = stations.filter(s => s.name.toLowerCase().includes(val.toLowerCase())).slice(0, 15);
            if (filtered.length === 0 || val === "") { dropdown.classList.remove('active'); return; }

            filtered.forEach(s => {
                const div = document.createElement('div');
                div.className = 'dropdown-item';
                div.innerHTML = `<div class="icon-box"><img src="${s.icon}" onerror="this.src='img/metro.svg'"></div><div class="station-name">${s.name}</div>`;
                div.onclick = () => {
                    searchInput.value = s.name;
                    selected = s.name;
                    dropdown.classList.remove('active');
                };
                dropdown.appendChild(div);
            });
            dropdown.classList.add('active');
        }

        searchInput.oninput = (e) => render(e.target.value);
        document.onclick = (e) => { if (e.target !== searchInput) dropdown.classList.remove('active'); };

        document.getElementById('submit-btn').onclick = () => {
            const desc = document.getElementById('description').value.trim();
            if (!desc || !selected) { tg.showAlert("–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–Ω—Ü–∏—é –∏ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É"); return; }
            tg.sendData(JSON.stringify({ station: selected, description: desc }));
            tg.close();
        };
    </script>
</body>
</html>
