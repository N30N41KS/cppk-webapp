<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –ñ–î</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        html { background-color: var(--tg-theme-bg-color, #ffffff); height: 100%; overflow: hidden; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: var(--tg-theme-bg-color, #ffffff); color: var(--tg-theme-text-color, #000000); margin: 0; padding: 20px; box-sizing: border-box; height: 100%; overflow-y: auto; -webkit-font-smoothing: antialiased; }
        h2 { text-align: center; margin-bottom: 20px; margin-top: 0; }
        .form-group { position: relative; margin-bottom: 20px; }
        label { display: block; font-weight: 500; margin-bottom: 8px; color: var(--tg-theme-hint-color, #999999); font-size: 14px; }
        input, textarea { width: 100%; box-sizing: border-box; padding: 14px; border: none; border-radius: 12px; background-color: var(--tg-theme-secondary-bg-color, #f4f4f5); color: var(--tg-theme-text-color, #000000); font-size: 16px; outline: none; transition: box-shadow 0.2s; }
        input:focus, textarea:focus { box-shadow: 0 0 0 2px var(--tg-theme-button-color, #3390ec); }
        textarea { resize: none; font-family: inherit; }
        button { width: 100%; padding: 16px; background-color: var(--tg-theme-button-color, #3390ec); color: var(--tg-theme-button-text-color, #ffffff); border: none; border-radius: 12px; font-size: 17px; font-weight: 600; cursor: pointer; margin-top: 10px; transition: opacity 0.2s; }
        button:active { opacity: 0.8; }

        .custom-dropdown { position: absolute; top: calc(100% + 5px); left: 0; right: 0; background-color: var(--tg-theme-bg-color, #ffffff); border-radius: 12px; max-height: 250px; overflow-y: auto; z-index: 1000; display: none; box-shadow: 0 4px 20px rgba(0,0,0,0.15); }
        .custom-dropdown.active { display: block; animation: fadeIn 0.15s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        
        .dropdown-item { padding: 12px 16px; display: flex; align-items: center; cursor: pointer; border-bottom: 1px solid var(--tg-theme-secondary-bg-color, #eee); }
        .dropdown-item:last-child { border-bottom: none; }
        .dropdown-item:hover, .dropdown-item:active { background-color: var(--tg-theme-secondary-bg-color, #f4f4f5); }
        
        .icon-box { display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; margin-right: 12px; flex-shrink: 0; }
        .station-name { font-size: 16px; font-weight: 500; }
    </style>
</head>
<body>

    <h2>üö® –°–æ–æ–±—â–∏—Ç—å –æ –ø–æ–ª–æ–º–∫–µ</h2>

    <div class="form-group">
        <label for="station-search">–°—Ç–∞–Ω—Ü–∏—è (–ú–µ—Ç—Ä–æ, –ú–¶–ö, –ú–¶–î):</label>
        <input type="text" id="station-search" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ..." autocomplete="off">
        <div style="position: absolute; right: 16px; top: 43px; color: var(--tg-theme-hint-color); pointer-events: none;">‚ñº</div>
        <div id="custom-stations-list" class="custom-dropdown"></div>
    </div>

    <div class="form-group">
        <label for="description">–ß—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å?</label>
        <textarea id="description" rows="5" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤—ã–π —Ç—É—Ä–Ω–∏–∫–µ—Ç..."></textarea>
    </div>

    <button id="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–ø–æ—Ä—Ç</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor(tg.themeParams.bg_color || '#ffffff');
        tg.setBackgroundColor(tg.themeParams.bg_color || '#ffffff');

        const rawStations = [
            "–û–¥–∏–Ω—Ü–æ–≤–æ (D1)", "–ë–∞–∫–æ–≤–∫–∞ (D1)", "–°–∫–æ–ª–∫–æ–≤–æ (D1)", "–ù–µ–º—á–∏–Ω–æ–≤–∫–∞ (D1)", "–°–µ—Ç—É–Ω—å (D1)", "–†–∞–±–æ—á–∏–π –ü–æ—Å—ë–ª–æ–∫ (D1)", "–ö—É–Ω—Ü–µ–≤–æ (D1)", "–°–ª–∞–≤—è–Ω—Å–∫–∏–π –±—É–ª—å–≤–∞—Ä (D1)", "–§–∏–ª–∏ (D1)", "–¢–µ—Å—Ç–æ–≤—Å–∫–∞—è (D1)", "–ë–µ–≥–æ–≤–∞—è (D1)", "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∞—è (D1)", "–°–∞–≤—ë–ª–æ–≤—Å–∫–∞—è (D1)", "–î–º–∏—Ç—Ä–æ–≤—Å–∫–∞—è (D1)",
            "–ü–æ–¥–æ–ª—å—Å–∫ (D2)", "–°–∏–ª–∏–∫–∞—Ç–Ω–∞—è (D2)", "–û—Å—Ç–∞—Ñ—å–µ–≤–æ (D2)", "–©–µ—Ä–±–∏–Ω–∫–∞ (D2)", "–ë—É—Ç–æ–≤–æ (D2)", "–ë–∏—Ç—Ü–∞ (D2)", "–ö—Ä–∞—Å–Ω—ã–π –°—Ç—Ä–æ–∏—Ç–µ–ª—å (D2)", "–ü–æ–∫—Ä–æ–≤—Å–∫–æ–µ (D2)", "–¶–∞—Ä–∏—Ü—ã–Ω–æ (D2)", "–ú–æ—Å–∫–≤–æ—Ä–µ—á—å–µ (D2)", "–ö—É—Ä—å—è–Ω–æ–≤–æ (D2)", "–ü–µ—Ä–µ—Ä–≤–∞ (D2)", "–î–µ–ø–æ (D2)", "–ü–µ—á–∞—Ç–Ω–∏–∫–∏ (D2)", "–¢–µ–∫—Å—Ç–∏–ª—å—â–∏–∫–∏ (D2)",
            "–ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥-–ö—Ä—é–∫–æ–≤–æ (D3)", "–°—Ö–æ–¥–Ω—è (D3)", "–ü–æ–¥—Ä–µ–∑–∫–æ–≤–æ (D3)", "–ù–æ–≤–æ–ø–æ–¥—Ä–µ–∑–∫–æ–≤–æ (D3)", "–•–∏–º–∫–∏ (D3)", "–•–æ–≤—Ä–∏–Ω–æ (D3)", "–ì—Ä–∞—á—ë–≤—Å–∫–∞—è (D3)", "–õ–∏—Ö–æ–±–æ—Ä—ã (D3)", "–ü–µ—Ç—Ä–æ–≤—Å–∫–æ-–†–∞–∑—É–º–æ–≤—Å–∫–∞—è (D3)", "–û—Å—Ç–∞–Ω–∫–∏–Ω–æ (D3)", "–≠–ª–µ–∫—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∞—è (
